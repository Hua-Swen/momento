<!-- Overall div for trips index -->
<div class="d-flex flex-row">
  <!-- This is all trips on the left column-->
  <div class="d-flex flex-column w-100 mr-auto">
    <div class="home-heading text-center mt-3">
      Your Trips
    </div>

    <% @trips.each do |trip| %>
      <%= link_to trip_path(trip) do %>
        <div class="card-trip mt-4" >
          <% if trip.posts.empty? %>
            <img src="https://res.cloudinary.com/dzmacq4yx/image/upload/v1594288157/no-image-1_li83kj.jpg" class="card-trip" />
          <% elsif trip.posts.first.photos.empty?%>
            <img src="https://res.cloudinary.com/dzmacq4yx/image/upload/v1594288157/no-image-1_li83kj.jpg" class="card-trip" />
          <% else %>
            <%= cl_image_tag trip.posts.first.photos[0].key, class: "card-trip"%>
          <% end %>
          <div class="card-body d-flex justify-content-between">
            <h3><%= trip.name %></h3>
            <p><%= trip.start_date.strftime('%B %Y') %></p>
          </div>
        </div>
      <% end %>
    <% end %>
  </div>

  <!-- This is the friends list on the right column -->

  <div class="d-flex flex-column flex-shrink-0">
    <div class="friend-column friend-list-header">Friend List</div>
    <div class="friend-column">Friend 1</div>
    <div class="friend-column">Friend 2 dssda dsa   dsa </div>
    <div class="friend-column">Friend 3</div>
  </div>
</div>



<!-- Javascript to detect if user is in current city and if there is no existing trip -->
<%= javascript_tag do %>
  currentCity = '<%= j @current_location.city %>';
  userCity = '<%= j current_user.city.name %>';
  noTrips = '<%= j @users_active_trips %>';
<% end %>
